<!doctype html>
<html ng-app="ngMap">

<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<script src="https://maps.google.com/maps/api/js?libraries=placeses,visualization,drawing,geometry,places"></script>
	<script src="https://code.angularjs.org/1.3.15/angular.js"></script>
	<script src="https://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.js"></script>

	<link href="css/AllenTable.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/theme.css">
	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/bootstrap-theme.css" rel="stylesheet">
	<link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet">
	<link href="css/animations.css" rel="stylesheet">
	<link href="css/tablesaw.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="js/tablesaw.js"></script>
	<script src="js/tablesaw-init.js"></script>


	<script>
		angular.module('ngMap').run(function($rootScope, $http) {
			$rootScope.filters = {};

			$rootScope.getCycle = function() {
				getData("http://127.0.0.1:8080/JAXWSServer/crunchify/getCycle/40");
			}

			$rootScope.getMelWeekend = function() {
				getData("http://127.0.0.1:8080/JAXWSServer/crunchify/getMelWeekend");
			}

			$rootScope.getMelWeekday = function() {
				getData("http://127.0.0.1:8080/JAXWSServer/crunchify/getMelWeekday");
			}


			// getData(40); //init data
			$rootScope.submit = function() {
				getData($rootScope.limitedRow);
			}

			function getData(url) {
				$http.get(url)
					.then(function(response) {
						var obj = [];
						$rootScope.limit = 40;
						$rootScope.items = response.data;
						angular.forEach(response.data, function(value, key) {
							obj.push({
								address: value.address,
								"class": value.class
							});
						});
						$rootScope.customMarkers = obj;
					});
			}
		});
	</script>
</head>

<body role="document">
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="AngularVersion.html">Project 2</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="CycleList.html">CycleList</a></li>
				</ul>
			</div>
		</div>
	</nav>

	</br>
	</br>
	</br>
	</br>


	<div class="row">
		<div class="col-md-10 position70">
			<h2>Melbourne cycling related twitters</h2>
			<table class="tablesaw col-xs-12 allenTable redTable" data-tablesaw-sortable data-tablesaw-sortable-switch>
				<thead>
					<tr>
						<th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">
							<div class="whiteWord">Area</div>
						</th>
						<th scope="col" data-tablesaw-sortable-col data-tablesaw-sortable-default-col data-tablesaw-priority="3">
							<div class="whiteWord">Cyclist Related Twitter</div>
						</th>
						<th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">
							<div class="whiteWord">All Twitters</div>
						</th>
						<th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="1">
							<div class="whiteWord">Traffic Accidents</div>
							</abbr>
						</th>
						<th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="4">
							<div class="whiteWord">Traffic Volume</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="title">B1</td>
						<td>81</td>
						<td>9,275</td>
						<td>1,130</td>
						<td>5,352,700</td>
					</tr>
					<tr class="even">
						<td class="title">B2</td>
						<td>757</td>
						<td>45,400</td>
						<td>3,700</td>
						<td>17,878,040</td>
					</tr>
					<tr>
						<td class="title">B3
						</td>
						<td>481</td>
						<td>14,617</td>
						<td>2,056</td>
						<td>10,005,410</td>
					</tr>
					<tr class="even">
						<td class="title">
							B4</td>
						<td>118</td>
						<td>3,208</td>
						<td>246</td>
						<td>1,573,190</td>
					</tr>
					<tr>
						<td class="title">C1
						</td>
						<td>79</td>
						<td>3,067</td>
						<td>737</td>
						<td>4,929,170</td>
					</tr>
					<tr class="even">
						<td class="title">
							C2</td>
						<td>4,158</td>
						<td>181,743</td>
						<td>4,307</td>
						<td>17,224,400</td>
					</tr>
					<tr>
						<td class="title">C3
						</td>
						<td>920</td>
						<td>41,185</td>
						<td>3,343</td>
						<td>16,849,410</td>
					</tr>
					<tr class="even">
						<td class="title">
							C4</td>
						<td>128</td>
						<td>10,534</td>
						<td>1,999</td>
						<td>9,160,800</td>
					</tr>
					<tr>
						<td class="title">C5
						</td>
						<td>180</td>
						<td>2,889</td>
						<td>319</td>
						<td>1,052,370</td>
					</tr>
					<tr class="even">
						<td class="title">
							D3</td>
						<td>554</td>
						<td>11,199</td>
						<td>829</td>
						<td>2,758,100</td>
					</tr>

					<tr>
						<td class="title">D4
						</td>
						<td>118</td>
						<td>6,608</td>
						<td>1,680</td>
						<td>7,573,910</td>
					</tr>
					<tr class="even">
						<td class="title">
							D5</td>
						<td>37</td>
						<td>2,130</td>
						<td>554</td>
						<td>2,640,810</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	</br>
	</br>



		<div class="row">
			<div class="col-md-7 position70">
				<h2>Traffic condition</h2>
				<table class="tablesaw col-xs-12 allenTable redTable" data-tablesaw-sortable data-tablesaw-sortable-switch>
					<thead>
						<tr>
							<th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">
								<div class="whiteWord">Area</div>
							</th>
							<th scope="col" data-tablesaw-sortable-col data-tablesaw-sortable-default-col data-tablesaw-priority="3">
								<div class="whiteWord">Cycling popularity</div>
							</th>
							<th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">
								<div class="whiteWord">Traffic Safety</div>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="title">B1</td>
							<td>0.873315</td>
							<td>2.111084</td>
						</tr>
						<tr class="even">
							<td class="title">B2</td>
							<td>1.667401</td>
							<td>2.069578</td>
						</tr>
						<tr>
							<td class="title">B3
							</td>
							<td>3.290689</td>
							<td>2.054888</td>
						</tr>
						<tr class="even">
							<td class="title">
								B4</td>
							<td>3.678304</td>
							<td>1.563702</td>
						</tr>
						<tr>
							<td class="title">C1
							</td>
							<td>2.575807</td>
							<td>1.495181</td>
						</tr>
						<tr class="even">
							<td class="title">
								C2</td>
							<td>2.287846</td>
							<td>2.500523</td>
						</tr>
						<tr>
							<td class="title">C3
							</td>
							<td>2.233823</td>
							<td>1.984046</td>
						</tr>
						<tr class="even">
							<td class="title">
								C4</td>
							<td>1.215113</td>
							<td>2.182124</td>
						</tr>
						<tr>
							<td class="title">C5
							</td>
							<td>6.23053</td>
							<td>3.031253</td>
						</tr>
						<tr class="even">
							<td class="title">
								D3</td>
							<td>4.94687</td>
							<td>3.005692</td>
						</tr>
						<tr>
							<td class="title">D4
							</td>
							<td>1.785714</td>
							<td>2.218141</td>
						</tr>
						<tr class="even">
							<td class="title">
								D5</td>
							<td>1.737089</td>
							<td>2.097841</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		</br>
		</br>


</body>

</html>
